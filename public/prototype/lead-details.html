<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leads</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script> window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none;}
        * { font-family: 'Inter', sans-serif; }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#64748b'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div class="flex h-screen">
        <aside id="sidebar" class="w-64 bg-white shadow-lg border-r border-gray-200">
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-home text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-900">Estate AI</h1>
                        <p class="text-sm text-gray-500">Agent Assistant</p>
                    </div>
                </div>
            </div>
            
            <nav class="mt-6 px-4">
                <ul class="space-y-2">
                    <li>
                        <a href="/prototype/dashboard" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-chart-line w-5 mr-3"></i>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <!-- ACTIVE: Leads -->
                        <a href="/prototype/leads" target="_top" class="flex items-center px-4 py-3 text-primary bg-blue-50 rounded-lg">
                            <i class="fas fa-users w-5 mr-3"></i>
                            Leads
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/campaigns" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-bullhorn w-5 mr-3"></i>
                            Campaigns
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/follow-ups" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-clock w-5 mr-3"></i>
                            Follow-Ups
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/conversations" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-comments w-5 mr-3"></i>
                            Conversations
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/calendar" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-calendar w-5 mr-3"></i>
                            Calendar
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/logs" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-file-alt w-5 mr-3"></i>
                            Logs
                        </a>
                    </li>
                    <li>
                        <a href="/prototype/settings" target="_top" class="flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg">
                            <i class="fas fa-cog w-5 mr-3"></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <div class="flex-1 flex flex-col overflow-hidden">
            <header id="header" class="bg-white border-b border-gray-200 px-6 py-4">
                <div class="flex items-center justify-between">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900">Leads Management</h2>
                        <p class="text-gray-500">Manage your property owner contacts and prospects</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <button class="relative p-2 text-gray-400 hover:text-gray-600">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                        </button>
                        <div class="flex items-center space-x-3">
                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg" alt="Profile" class="profile-avatar w-10 h-10 rounded-full">
                            <div>
                                <p class="text-sm font-medium text-gray-900 profile-name">Loading...</p>
                                <p class="text-xs text-gray-500 profile-company">Real Estate Agent</p>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <main class="flex-1 flex overflow-hidden">
                <section id="leads-main" class="flex-1 flex flex-col">
                    <div class="p-6 bg-white border-b border-gray-200">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center space-x-4">
                                <div class="relative">
                                    <input type="text" placeholder="Search leads..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80 focus:ring-2 focus:ring-primary focus:border-transparent">
                                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                </div>
                                <select class="border border-gray-300 rounded-lg px-3 py-2">
                                    <option>All Tags</option>
                                    <option>Hot</option>
                                    <option>Cold</option>
                                    <option>Warm</option>
                                    <option>Expired Listing</option>
                                </select>
                                <select class="border border-gray-300 rounded-lg px-3 py-2">
                                    <option>All Status</option>
                                    <option>Active</option>
                                    <option>Contacted</option>
                                    <option>Scheduled</option>
                                    <option>Closed</option>
                                </select>
                            </div>
                            <div class="flex items-center space-x-3">
                                <button class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center space-x-2">
                                    <i class="fas fa-download"></i>
                                    <span>Export</span>
                                </button>
                                <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center space-x-2">
                                    <i class="fas fa-plus"></i>
                                    <span>Import Leads</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="flex-1 overflow-y-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        <input type="checkbox" class="rounded border-gray-300">
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Property Address</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Contact</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Next Follow-up</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tags</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <tr class="hover:bg-gray-50 cursor-pointer" onclick="openLeadDrawer('sarah-johnson')">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input type="checkbox" class="rounded border-gray-300">
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg" alt="Sarah Johnson" class="w-8 h-8 rounded-full mr-3">
                                            <div>
                                                <div class="text-sm font-medium text-gray-900">Sarah Johnson</div>
                                                <div class="text-sm text-gray-500">Property Owner</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">(555) 123-4567</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">sarah.j@email.com</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">123 Oak Street, Miami FL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2 days ago</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Today, 2:00 PM</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full">Hot</span>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50 cursor-pointer" onclick="openLeadDrawer('mike-davis')">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input type="checkbox" class="rounded border-gray-300">
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-3.jpg" alt="Mike Davis" class="w-8 h-8 rounded-full mr-3">
                                            <div>
                                                <div class="text-sm font-medium text-gray-900">Mike Davis</div>
                                                <div class="text-sm text-gray-500">Investor</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">(555) 987-6543</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">mike.davis@email.com</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">456 Pine Avenue, Orlando FL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">5 days ago</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Tomorrow, 10:00 AM</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full">Warm</span>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50 cursor-pointer" onclick="openLeadDrawer('emma-wilson')">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input type="checkbox" class="rounded border-gray-300">
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-5.jpg" alt="Emma Wilson" class="w-8 h-8 rounded-full mr-3">
                                            <div>
                                                <div class="text-sm font-medium text-gray-900">Emma Wilson</div>
                                                <div class="text-sm text-gray-500">Homeowner</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">(555) 456-7890</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">emma.w@email.com</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">789 Maple Drive, Tampa FL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1 week ago</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Friday, 3:00 PM</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full">Cold</span>
                                    </td>
                                </tr>
                                <tr class="hover:bg-gray-50 cursor-pointer" onclick="openLeadDrawer('tom-brown')">
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <input type="checkbox" class="rounded border-gray-300">
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="flex items-center">
                                            <img src="https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-4.jpg" alt="Tom Brown" class="w-8 h-8 rounded-full mr-3">
                                            <div>
                                                <div class="text-sm font-medium text-gray-900">Tom Brown</div>
                                                <div class="text-sm text-gray-500">Developer</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">(555) 321-0987</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">tom.brown@email.com</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">321 Cedar Lane, Jacksonville FL</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">3 days ago</td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Next week</td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span class="px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full">Expired</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="p-4 bg-white border-t border-gray-200">
                        <div class="flex items-center justify-between">
                            <p class="text-sm text-gray-700">Showing 1 to 4 of 2,847 results</p>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50">Previous</button>
                                <button class="px-3 py-1 bg-primary text-white rounded text-sm">1</button>
                                <button class="px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50">2</button>
                                <button class="px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50">3</button>
                                <button class="px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50">Next</button>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="lead-drawer" class="w-96 bg-white border-l border-gray-200 transform translate-x-full transition-transform duration-300 ease-in-out">
                    <div class="h-full flex flex-col">
                        <div class="p-6 border-b border-gray-200">
                            <div class="flex items-center justify-between">
                                <h3 class="text-lg font-semibold text-gray-900">Lead Details</h3>
                                <button onclick="closeLeadDrawer()" class="p-2 hover:bg-gray-100 rounded-lg">
                                    <i class="fas fa-times text-gray-500"></i>
                                </button>
                            </div>
                        </div>

                        <div id="lead-content" class="flex-1 overflow-y-auto p-6">
                            <div class="text-center py-8">
                                <i class="fas fa-user-circle text-gray-300 text-6xl mb-4"></i>
                                <p class="text-gray-500">Select a lead to view details</p>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        function openLeadDrawer(leadId) {
            const drawer = document.getElementById('lead-drawer');
            const content = document.getElementById('lead-content');
            
            const leadData = {
                'sarah-johnson': {
                    name: 'Sarah Johnson',
                    phone: '(555) 123-4567',
                    email: 'sarah.j@email.com',
                    address: '123 Oak Street, Miami FL 33101',
                    type: 'Property Owner',
                    tag: 'Hot',
                    avatar: 'https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-1.jpg',
                    lastContact: '2 days ago',
                    nextFollowup: 'Today, 2:00 PM',
                    notes: 'Interested in selling 3-bedroom property. Mentioned timeline of 3-6 months.',
                    campaigns: ['New Listings', 'Market Update'],
                    messages: [
                        { type: 'sent', text: 'Hi Sarah, I hope you\'re doing well. I wanted to follow up on our conversation about your property.', time: '2 days ago' },
                        { type: 'received', text: 'Hi! Yes, I\'m still interested. Can we schedule a call this week?', time: '2 days ago' }
                    ]
                },
                'mike-davis': {
                    name: 'Mike Davis',
                    phone: '(555) 987-6543',
                    email: 'mike.davis@email.com',
                    address: '456 Pine Avenue, Orlando FL 32801',
                    type: 'Investor',
                    tag: 'Warm',
                    avatar: 'https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-3.jpg',
                    lastContact: '5 days ago',
                    nextFollowup: 'Tomorrow, 10:00 AM',
                    notes: 'Looking for investment properties under $300k. Prefers multi-family units.',
                    campaigns: ['Investment Opportunities'],
                    messages: [
                        { type: 'sent', text: 'Mike, I found a great duplex that matches your criteria. Are you available for a showing?', time: '5 days ago' }
                    ]
                }
            };

            const lead = leadData[leadId];
            if (!lead) return;

            content.innerHTML = `
                <div class="space-y-6">
                    <div class="text-center">
                        <img src="${lead.avatar}" alt="${lead.name}" class="w-20 h-20 rounded-full mx-auto mb-4">
                        <h4 class="text-xl font-semibold text-gray-900">${lead.name}</h4>
                        <p class="text-gray-500">${lead.type}</p>
                        <span class="inline-block px-3 py-1 mt-2 text-sm font-medium bg-red-100 text-red-800 rounded-full">${lead.tag}</span>
                    </div>

                    <div class="space-y-4">
                        <div>
                            <label class="text-sm font-medium text-gray-500">Phone</label>
                            <p class="text-gray-900">${lead.phone}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-500">Email</label>
                            <p class="text-gray-900">${lead.email}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-500">Property Address</label>
                            <p class="text-gray-900">${lead.address}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-500">Last Contact</label>
                            <p class="text-gray-900">${lead.lastContact}</p>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-gray-500">Next Follow-up</label>
                            <p class="text-gray-900">${lead.nextFollowup}</p>
                        </div>
                    </div>

                    <div>
                        <label class="text-sm font-medium text-gray-500 mb-2 block">Notes</label>
                        <p class="text-gray-900 text-sm bg-gray-50 p-3 rounded-lg">${lead.notes}</p>
                    </div>

                    <div>
                        <label class="text-sm font-medium text-gray-500 mb-2 block">Assigned Campaigns</label>
                        <div class="space-y-2">
                            ${lead.campaigns.map(campaign => `
                                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                                    <span class="text-sm text-gray-900">${campaign}</span>
                                    <i class="fas fa-external-link-alt text-gray-400 text-xs"></i>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div>
                        <label class="text-sm font-medium text-gray-500 mb-3 block">Recent Messages</label>
                        <div class="space-y-3 max-h-40 overflow-y-auto">
                            ${lead.messages.map(msg => `
                                <div class="flex ${msg.type === 'sent' ? 'justify-end' : 'justify-start'}">
                                    <div class="max-w-xs p-3 rounded-lg ${msg.type === 'sent' ? 'bg-primary text-white' : 'bg-gray-100 text-gray-900'}">
                                        <p class="text-sm">${msg.text}</p>
                                        <p class="text-xs mt-1 ${msg.type === 'sent' ? 'text-blue-100' : 'text-gray-500'}">${msg.time}</p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <div class="space-y-3 pt-4 border-t border-gray-200">
                        <button class="w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center justify-center space-x-2">
                            <i class="fas fa-sms"></i>
                            <span>Send SMS</span>
                        </button>
                        <button class="w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center space-x-2">
                            <i class="fas fa-calendar-plus"></i>
                            <span>Schedule Meeting</span>
                        </button>
                        <button class="w-full px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2">
                            <i class="fas fa-bullhorn"></i>
                            <span>Assign Campaign</span>
                        </button>
                        <button class="w-full px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 flex items-center justify-center space-x-2">
                            <i class="fas fa-sticky-note"></i>
                            <span>Add Note</span>
                        </button>
                    </div>
                </div>
            `;

            drawer.classList.remove('translate-x-full');
        }

        function closeLeadDrawer() {
            const drawer = document.getElementById('lead-drawer');
            drawer.classList.add('translate-x-full');
        }
    </script>
<script src="/prototype/js/profile-loader.js"></script>
</body>
</html>






